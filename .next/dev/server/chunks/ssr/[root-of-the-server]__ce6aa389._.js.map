{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Histovic_Studios/PDF_TOOLS/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { PDFDocument } from 'pdf-lib';\r\n\r\nexport default function HistovicPdfPro() {\r\n  const [files, setFiles] = useState<File[]>([]);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [mode, setMode] = useState<'merge' | 'split' | 'compress' | 'image' | 'text'>('merge');\r\n  const [pageRange, setPageRange] = useState(\"1-2\");\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const selected = Array.from(e.target.files || []);\r\n    setFiles(mode === 'merge' ? (prev) => [...prev, ...selected] : selected.slice(0, 1));\r\n    setSuccess(false);\r\n  };\r\n\r\n  const processPDF = async () => {\r\n    setProcessing(true);\r\n    setSuccess(false);\r\n    try {\r\n      if (mode === 'image' || mode === 'text') {\r\n        const pdfjsLib = await import('pdfjs-dist/legacy/build/pdf.mjs');\r\n        pdfjsLib.GlobalWorkerOptions.workerSrc = `https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs`;\r\n        const arrayBuffer = await files[0].arrayBuffer();\r\n        const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;\r\n\r\n        if (mode === 'text') {\r\n          let text = \"\";\r\n          for (let i = 1; i <= pdf.numPages; i++) {\r\n            const page = await pdf.getPage(i);\r\n            const content = await page.getTextContent();\r\n            text += content.items.map((item: any) => item.str).join(\" \") + \"\\n\\n\";\r\n          }\r\n          downloadFile(new Blob([text], { type: 'text/plain' }), \"Histovic_Text.txt\");\r\n        } else {\r\n          const page = await pdf.getPage(1);\r\n          const viewport = page.getViewport({ scale: 3.0 });\r\n          const canvas = document.createElement('canvas');\r\n          const ctx = canvas.getContext('2d');\r\n          canvas.height = viewport.height; canvas.width = viewport.width;\r\n          if (ctx) {\r\n            await page.render({ canvasContext: ctx, viewport }).promise;\r\n            triggerDownload(canvas.toDataURL('image/jpeg', 1.0), \"Histovic_HD.jpg\");\r\n          }\r\n        }\r\n      } else {\r\n        const pdfDoc = await PDFDocument.create();\r\n        const src = await PDFDocument.load(await files[0].arrayBuffer());\r\n        \r\n        if (mode === 'merge') {\r\n          for (const file of files) {\r\n            const doc = await PDFDocument.load(await file.arrayBuffer());\r\n            const pages = await pdfDoc.copyPages(doc, doc.getPageIndices());\r\n            pages.forEach(p => pdfDoc.addPage(p));\r\n          }\r\n        } else if (mode === 'split') {\r\n          const indices: number[] = [];\r\n          pageRange.split(',').forEach(part => {\r\n            if (part.includes('-')) {\r\n              const [start, end] = part.split('-').map(n => parseInt(n.trim()) - 1);\r\n              for (let i = start; i <= end; i++) indices.push(i);\r\n            } else {\r\n              indices.push(parseInt(part.trim()) - 1);\r\n            }\r\n          });\r\n          const pages = await pdfDoc.copyPages(src, indices.filter(n => n >= 0 && n < src.getPageCount()));\r\n          pages.forEach(p => pdfDoc.addPage(p));\r\n        } else {\r\n          const pages = await pdfDoc.copyPages(src, src.getPageIndices());\r\n          pages.forEach(p => pdfDoc.addPage(p));\r\n        }\r\n\r\n        const bytes = await pdfDoc.save({ useObjectStreams: true });\r\n        downloadFile(new Blob([bytes], { type: 'application/pdf' }), `Histovic_${mode}.pdf`);\r\n      }\r\n      setSuccess(true);\r\n      setFiles([]);\r\n    } catch (e) {\r\n      alert(\"Error: Check your page range or PDF file.\");\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const downloadFile = (blob: Blob, name: string) => {\r\n    const url = URL.createObjectURL(blob);\r\n    triggerDownload(url, name);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const triggerDownload = (url: string, name: string) => {\r\n    const a = document.createElement('a'); a.href = url; a.download = name; a.click();\r\n  };\r\n\r\n  return (\r\n    <div style={shell}>\r\n      <header style={navbar}>\r\n        <div style={logo}>HISTOVIC <span style={{color: '#E11D48'}}>PRO</span></div>\r\n        <div style={navLinks}>\r\n          {(['merge', 'split', 'compress', 'image', 'text'] as const).map(m => (\r\n            <button \r\n              key={m} \r\n              onClick={() => {setMode(m); setFiles([]); setSuccess(false);}} \r\n              style={mode === m ? activeTab : tab}\r\n            >\r\n              {m.toUpperCase()}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </header>\r\n\r\n      <div style={contentBody}>\r\n        <h1 style={heroText}>{mode.toUpperCase()} PDF</h1>\r\n        <p style={subHero}>The fastest local-first PDF tools for Histovic Studios.</p>\r\n\r\n        <div style={uploadCard}>\r\n          <div \r\n            style={dropZone} \r\n            onMouseOver={(e) => (e.currentTarget.style.borderColor = '#E11D48')}\r\n            onMouseOut={(e) => (e.currentTarget.style.borderColor = '#CBD5E1')}\r\n            onClick={() => document.getElementById('file-input')?.click()}\r\n          >\r\n            <div style={uploadIcon}>{processing ? '‚öôÔ∏è' : 'üì§'}</div>\r\n            <h3 style={{margin: '10px 0', color: '#1E293B'}}>\r\n              {files.length > 0 ? `${files.length} Files Selected` : 'Select PDF Files'}\r\n            </h3>\r\n            <p style={{color: '#64748B', fontSize: '14px'}}>Drag and drop your files here</p>\r\n            <input id=\"file-input\" type=\"file\" hidden multiple={mode === 'merge'} onChange={handleFileChange} />\r\n          </div>\r\n\r\n          {mode === 'split' && (\r\n            <div style={configArea}>\r\n              <label style={label}>Extract Pages (e.g., 1-3, 5):</label>\r\n              <input style={input} value={pageRange} onChange={(e) => setPageRange(e.target.value)} />\r\n            </div>\r\n          )}\r\n\r\n          {files.length > 0 && (\r\n            <button onClick={processPDF} disabled={processing} style={primaryBtn}>\r\n              {processing ? 'ENGINE PROCESSING...' : `CONVERT NOW`}\r\n            </button>\r\n          )}\r\n\r\n          {success && <div style={successMsg}>‚ú® Success! Your file is downloaded.</div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- RED & CREAM DESIGN SYSTEM ---\r\nconst shell: React.CSSProperties = {\r\n  backgroundColor: '#FFFBF5', // Warm Cream\r\n  minHeight: '100vh', \r\n  color: '#1E293B', \r\n  fontFamily: 'system-ui, -apple-system, sans-serif'\r\n};\r\n\r\nconst navbar: React.CSSProperties = {\r\n  display: 'flex', \r\n  justifyContent: 'space-between', \r\n  alignItems: 'center', \r\n  padding: '20px 60px', \r\n  backgroundColor: '#FFFFFF',\r\n  borderBottom: '2px solid #F1F5F9'\r\n};\r\n\r\nconst logo: React.CSSProperties = { fontSize: '24px', fontWeight: 900, letterSpacing: '1px' };\r\n\r\nconst navLinks: React.CSSProperties = { display: 'flex', gap: '8px' };\r\n\r\nconst tab: React.CSSProperties = { \r\n  background: 'transparent', // Fixed shorthand bug\r\n  border: 'none', \r\n  color: '#64748B', \r\n  cursor: 'pointer', \r\n  fontWeight: 700, \r\n  fontSize: '12px', \r\n  padding: '10px 16px', \r\n  borderRadius: '12px',\r\n  transition: 'all 0.2s ease'\r\n};\r\n\r\nconst activeTab: React.CSSProperties = { \r\n  ...tab, \r\n  color: '#FFFFFF', \r\n  backgroundColor: '#E11D48' // Vibrant Red\r\n};\r\n\r\nconst contentBody: React.CSSProperties = { display: 'flex', flexDirection: 'column', alignItems: 'center', paddingTop: '60px' };\r\n\r\nconst heroText: React.CSSProperties = { fontSize: '56px', fontWeight: 900, color: '#0F172A', margin: 0 };\r\n\r\nconst subHero: React.CSSProperties = { color: '#64748B', marginBottom: '40px', fontSize: '18px' };\r\n\r\nconst uploadCard: React.CSSProperties = {\r\n  backgroundColor: '#FFFFFF', \r\n  borderRadius: '32px', \r\n  padding: '40px', \r\n  width: '100%', \r\n  maxWidth: '640px', \r\n  textAlign: 'center', \r\n  boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.05)',\r\n  border: '1px solid #F1F5F9'\r\n};\r\n\r\nconst dropZone: React.CSSProperties = {\r\n  border: '3px dashed #CBD5E1', \r\n  borderRadius: '24px', \r\n  padding: '80px 20px', \r\n  cursor: 'pointer', \r\n  transition: 'all 0.3s ease', \r\n  backgroundColor: '#F8FAFC'\r\n};\r\n\r\nconst uploadIcon: React.CSSProperties = { fontSize: '50px', marginBottom: '10px' };\r\n\r\nconst primaryBtn: React.CSSProperties = {\r\n  marginTop: '32px', \r\n  width: '100%', \r\n  padding: '22px', \r\n  backgroundColor: '#E11D48', \r\n  color: '#FFFFFF', \r\n  border: 'none', \r\n  borderRadius: '18px', \r\n  fontWeight: 800, \r\n  fontSize: '18px', \r\n  cursor: 'pointer', \r\n  boxShadow: '0 10px 15px -3px rgba(225, 29, 72, 0.3)',\r\n  transition: 'transform 0.1s active'\r\n};\r\n\r\nconst configArea: React.CSSProperties = { marginTop: '24px', textAlign: 'left' };\r\nconst label: React.CSSProperties = { display: 'block', fontSize: '13px', color: '#475569', marginBottom: '8px', fontWeight: 700 };\r\nconst input: React.CSSProperties = { width: '100%', padding: '14px', borderRadius: '12px', backgroundColor: '#F1F5F9', border: '1px solid #E2E8F0', color: '#1E293B', outline: 'none' };\r\nconst successMsg: React.CSSProperties = { marginTop: '20px', color: '#059669', fontWeight: 800 };"],"names":[],"mappings":"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"}}]
}